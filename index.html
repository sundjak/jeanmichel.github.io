import React, { useState, useEffect, useRef } from 'react';
import { Monitor, Server, Globe, Mic, BarChart3, Mail, Linkedin, FileText, Volume2, VolumeX, ChevronRight, ArrowLeft, Download, GraduationCap, Award, Briefcase, BookOpen, Coffee, Camera, Music, ExternalLink, Code, Cpu, Network, Users, Zap, X, Play, Image as ImageIcon, AlertCircle, CheckCircle, Clock, Shield, Book, Target } from 'lucide-react';

// --- GLOBAL STYLES ---
const globalStyles = `
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@400;700&display=swap');
  
  ::-webkit-scrollbar { width: 8px; }
  ::-webkit-scrollbar-track { background: #0f172a; }
  ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
  ::-webkit-scrollbar-thumb:hover { background: #475569; }

  .font-mono { font-family: 'JetBrains Mono', monospace; }
  
  .scanline {
      width: 100%;
      height: 2px;
      background: rgba(6, 182, 212, 0.1);
      position: absolute;
      z-index: 10;
      animation: scan 6s linear infinite;
      pointer-events: none;
  }
  @keyframes scan { 0% { top: 0%; } 100% { top: 100%; } }

  .blinking-cursor::after {
      content: '|';
      animation: blink 1s step-start infinite;
  }
  @keyframes blink { 50% { opacity: 0; } }
  
  .glass-panel {
      background: rgba(15, 23, 42, 0.8);
      backdrop-filter: blur(16px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
  }

  /* Sci-Fi Cards */
  .scifi-card {
      background: rgba(10, 10, 20, 0.9);
      border: 1px solid rgba(6, 182, 212, 0.3);
      box-shadow: 0 0 15px rgba(6, 182, 212, 0.1);
      position: relative;
      overflow: hidden;
  }
  .scifi-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0; width: 100%; height: 2px;
      background: linear-gradient(90deg, transparent, #06b6d4, transparent);
  }

  /* Tech Border for Certs */
  .cert-border {
      position: relative;
      border: 1px solid rgba(234, 179, 8, 0.3); /* Yellow for Certs */
  }
  .cert-border::after {
      content: '';
      position: absolute;
      bottom: 0; right: 0;
      width: 10px; height: 10px;
      background: #eab308;
      box-shadow: 0 0 10px #eab308;
  }

  .tech-border {
      position: relative;
  }
  .tech-border::before {
      content: '';
      position: absolute;
      top: -1px; left: -1px; width: 20px; height: 20px;
      border-top: 2px solid #06b6d4;
      border-left: 2px solid #06b6d4;
  }
  .tech-border::after {
      content: '';
      position: absolute;
      bottom: -1px; right: -1px; width: 20px; height: 20px;
      border-bottom: 2px solid #06b6d4;
      border-right: 2px solid #06b6d4;
  }
  
  .animate-fade-in { animation: fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
  @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
`;

// --- AUDIO ENGINE ---
class AudioEngine {
    constructor() {
        this.ctx = null;
        this.gainNode = null;
        this.oscillator = null;
        this.isMuted = true;
    }

    init() {
        if (!this.ctx) {
            this.ctx = new (window.AudioContext || window.webkitAudioContext)();
            this.gainNode = this.ctx.createGain();
            this.gainNode.connect(this.ctx.destination);
        }
    }

    toggleMute(muted) {
        this.isMuted = muted;
        if (this.ctx && this.gainNode) {
            if (this.ctx.state === 'suspended') {
                this.ctx.resume();
            }
            const targetVol = muted ? 0 : 0.1;
            this.gainNode.gain.setTargetAtTime(targetVol, this.ctx.currentTime, 0.1);
        }
    }

    stopAll() {
        if (this.oscillator) {
            try { this.oscillator.stop(); } catch (e) {}
            this.oscillator = null;
        }
    }

    playTheme(theme) {
        if (!this.ctx) return;
        this.stopAll();

        this.oscillator = this.ctx.createOscillator();
        
        if (theme === 'server') {
            this.oscillator.type = 'sawtooth';
            this.oscillator.frequency.setValueAtTime(60, this.ctx.currentTime);
        } else if (theme === 'data') {
            this.oscillator.type = 'sine';
            this.oscillator.frequency.setValueAtTime(200, this.ctx.currentTime);
        } else if (theme === 'space') {
            this.oscillator.type = 'triangle';
            this.oscillator.frequency.setValueAtTime(40, this.ctx.currentTime);
        } else if (theme === 'cert') {
            // Higher, sharper tone for certifications (Focus/Learning)
            this.oscillator.type = 'square';
            this.oscillator.frequency.setValueAtTime(120, this.ctx.currentTime);
        } else {
            this.oscillator.type = 'triangle';
            this.oscillator.frequency.setValueAtTime(100, this.ctx.currentTime);
        }

        const filter = this.ctx.createBiquadFilter();
        filter.type = 'lowpass';
        filter.frequency.value = 400;

        this.oscillator.connect(filter);
        filter.connect(this.gainNode);
        this.oscillator.start();
    }
}

const audioManager = new AudioEngine();

// --- DATA: RESUME CONTENT ---
const RESUME_DATA = {
    en: {
        role: "IT Coordinator | Systems Administrator",
        heroSubtitle: "Designing robust IT ecosystems & streamlining operations.",
        startButton: "Enter System",
        profilePic: "LinkedIn Profile Picture.jpg",
        about: "Bilingual IT professional with 9+ years in support, sysadmin, and coordination. I bridge the gap between complex technical infrastructure and seamless business operations.",
        sections: { exp: "Experience", skills: "Technical Matrix", edu: "Education", proj: "Portfolio Hub", blog: "Insights", hobby: "Off-Duty", contact: "Communication" },
        downloads: {
            resume: "Jean-Michel_Kouame_IT_Coordinator_Resume_EN.pdf",
            cv: "Jean-Michel_Kouame_CV_Coordonnateur_TI_FR.pdf"
        },
        social: {
            linkedin: "https://linkedin.com",
            email: "michelkholou@gmail.com"
        },
        education: [
            { degree: "Bachelor's in Computer Science", school: "Sikkim Manipal University", year: "2014", location: "Accra, Ghana" },
            { degree: "Prof. Diploma in IT", school: "NIIT", year: "2011", location: "Accra, Ghana" }
        ],
        certifications: [
            {
                id: "c1",
                title: "CompTIA Security+",
                provider: "CompTIA",
                date: "Expected: Nov 2025",
                status: "in-progress",
                score: "Passing Score: 750/900",
                desc: "Validates baseline skills necessary to perform core security functions and pursue an IT security career.",
                objectives: [
                    "Assess the security posture of an enterprise environment",
                    "Recommend and implement appropriate security solutions",
                    "Monitor and secure hybrid environments (Cloud, Mobile, IoT)",
                    "Operate with an awareness of applicable laws and policies"
                ],
                resources: [
                    { name: "Professor Messer", type: "Video Course" },
                    { name: "Jason Dion", type: "Practice Exams" }
                ],
                docLink: "#",
                icon: "Shield"
            },
            {
                id: "c2",
                title: "Microsoft IT Support Specialist",
                provider: "Coursera / Microsoft",
                date: "Expected: Oct 2025",
                status: "in-progress",
                score: "Completion Required",
                desc: "Foundational skills in IT support, covering troubleshooting, networking, and system administration.",
                objectives: [
                    "Diagnose and solve common hardware and software issues",
                    "Understand the fundamentals of computer networking",
                    "Learn to manage Windows operating systems"
                ],
                resources: [
                    { name: "Coursera Labs", type: "Interactive Labs" }
                ],
                docLink: "#",
                icon: "Monitor"
            },
            {
                id: "c3",
                title: "AWS Cloud Practitioner",
                provider: "Amazon Web Services",
                date: "Achieved",
                status: "completed",
                score: "780/1000",
                desc: "Fundamental understanding of IT services and their uses in the AWS Cloud platform.",
                objectives: [
                    "AWS Cloud concepts and security",
                    "Core AWS services (EC2, S3, RDS)",
                    "Billing and pricing models"
                ],
                resources: [
                    { name: "AWS Skill Builder", type: "Official Course" }
                ],
                docLink: "#",
                icon: "Globe"
            },
            {
                id: "c4",
                title: "ITIL Foundation V2",
                provider: "AXELOS",
                date: "Achieved",
                status: "completed",
                score: "Pass",
                desc: "Introduction to the IT Infrastructure Library (ITIL) framework for IT Service Management.",
                objectives: [
                    "Service Lifecycle",
                    "Key Principles and Models",
                    "Selected Processes and Functions"
                ],
                resources: [],
                docLink: "#",
                icon: "BookOpen"
            }
        ],
        skillsCategories: {
            hard: ["SCCM / MECM", "Microsoft Intune", "Azure Active Directory", "ServiceNow", "Microsoft 365 Admin", "Windows Server", "Power BI", "Exchange Online"],
            other: ["Jira / Confluence", "TCP/IP & DNS", "Virtualization", "Veeam Backup", "Zscaler", "Proofpoint", "Google Workspace"],
            soft: ["Incident Management", "ITIL Framework", "Stakeholder Reporting", "Process Optimization", "Team Leadership", "Bilingual Communication"]
        },
        projects: [
            {
                id: "p1",
                title: "Workstation Modernization",
                role: "Tech Lead",
                status: "completed", 
                desc: "Migrated 1,500+ users to Windows 11 & O365, standardizing device management via SCCM.",
                fullDescription: "Led a critical infrastructure upgrade for a global client. The objective was to eliminate security vulnerabilities associated with Windows 10 EOL and standardize the device landscape. \n\n We utilized SCCM task sequences for zero-touch deployment and Intune for policy management. The project resulted in a 40% reduction in helpdesk tickets related to OS compatibility.",
                tech: ["SCCM", "Windows 11", "O365", "Intune"],
                icon: "Monitor",
                media: [
                    { type: "image", url: "https://images.unsplash.com/photo-1597733336794-12d05021d510?auto=format&fit=crop&w=800&q=80", caption: "Deployment Dashboard" }
                ]
            },
            {
                id: "p2",
                title: "HR Analytics Dashboard",
                role: "BI Analyst",
                status: "completed",
                desc: "Designed Power BI dashboards to track turnover & absenteeism, reducing reporting time by 80%.",
                fullDescription: "Transformed raw Excel data into interactive Power BI reports. \n\n Key metrics included: Employee Turnover Rate (ETR), Absenteeism Heatmaps, and DEI compliance tracking. This allowed HR to proactively address retention issues in high-risk departments.",
                tech: ["Power BI", "Excel", "Data Modeling", "DAX"],
                icon: "BarChart3",
                codeSnippet: "CALCULATE(COUNTROWS(Employees), FILTER(Employees, Employees[Status] = 'Active'))",
                media: [
                    { type: "image", url: "https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=800&q=80", caption: "Power BI Report View" }
                ]
            },
            {
                id: "p3",
                title: "Logistics Automation",
                role: "Ops Manager",
                status: "completed",
                desc: "Automated customs clearance workflows, reducing port dwell time by 50%.",
                fullDescription: "Developed a VBA-based automation tool that interfaced with the local customs API. \n\n This reduced manual entry errors by 95% and cut the average dwell time for containers from 14 days to 7 days, saving over $100k in demurrage fees annually.",
                tech: ["VBA", "Excel", "API Integration"],
                icon: "Globe",
                media: []
            },
            {
                id: "p4",
                title: "Home Lab: Kubernetes Cluster",
                role: "SysAdmin",
                status: "in-progress",
                desc: "Building a 3-node K8s cluster on bare metal for learning microservices orchestration.",
                fullDescription: "A personal project to deepen understanding of container orchestration. \n\n Currently configuring the control plane using K3s on Raspberry Pis. Next steps include deploying a sample microservice app and configuring Ingress controllers.",
                tech: ["Kubernetes", "Docker", "Linux", "Networking"],
                icon: "Server",
                media: [
                    { type: "image", url: "https://images.unsplash.com/photo-1629654297299-c8506221ca97?auto=format&fit=crop&w=800&q=80", caption: "Cluster Node Setup" }
                ]
            }
        ],
        hobbies: [
            { name: "Audio Engineering", icon: "Music", desc: "Former ADR Supervisor. I still love mixing tracks.", link: "https://soundcloud.com" },
            { name: "Tech Blogging", icon: "BookOpen", desc: "Writing KB articles and simplifying tech concepts.", link: "https://medium.com" },
            { name: "Photography", icon: "Camera", desc: "Capturing urban landscapes and tech aesthetics.", link: "https://instagram.com" }
        ],
        blog: [
            { title: "Optimizing SCCM for Large Enterprises", date: "Oct 12, 2023", read: "5 min read", link: "#" },
            { title: "From SysAdmin to IT Coordinator: The Shift", date: "Sep 05, 2023", read: "4 min read", link: "#" },
            { title: "Automating the Mundane with Power BI", date: "Aug 20, 2023", read: "6 min read", link: "#" }
        ],
        experiences: [
            {
                id: "tima",
                company: "TIMA Services",
                companyUrl: "https://timaservices.com",
                dept: "Contract: Scandinavia & Walmart Canada",
                role: "On-site Crew Supervisor",
                date: "2023 - Present",
                location: "Montreal, Canada",
                theme: "logistics",
                icon: "Globe",
                bgImage: "https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=2070&q=80",
                details: ["Implemented Google Workspace tracking (100% paperless).", "Intro'd WhatsApp for realtime ops (75% faster).", "Automated audits via Excel."],
                stack: ["Google Workspace", "Excel", "Ops"]
            },
            {
                id: "tcs-senior",
                company: "Tata Consultancy Services",
                companyUrl: "https://www.tcs.com",
                dept: "Project: Allianz Trade / Euler Hermes",
                role: "Senior IT Service Desk Agent",
                date: "2019 - 2023",
                location: "Budapest, Hungary",
                theme: "server",
                icon: "Server",
                bgImage: "https://images.unsplash.com/photo-1558494949-efc5e66cd30f?auto=format&fit=crop&w=2070&q=80",
                details: ["Reduced VIP incidents by 50% via ServiceNow.", "Migrated 1,500 users to Win11.", "Managed Azure AD & SCCM."],
                stack: ["ServiceNow", "Azure AD", "SCCM"]
            },
            {
                id: "afromer",
                company: "Africaine des Mers",
                companyUrl: "#",
                dept: "Dept: Operations & Logistics",
                role: "Operations Manager",
                date: "2017 - 2019",
                location: "Abidjan, Côte d'Ivoire",
                theme: "ocean",
                icon: "Globe",
                bgImage: "https://images.unsplash.com/photo-1494412651409-ae5d988a47b0?auto=format&fit=crop&w=2070&q=80",
                details: ["Cut logistics spend by 50% ($100k).", "Automated customs workflows.", "100% compliance rate."],
                stack: ["Logistics", "Compliance", "Mgmt"]
            },
            {
                id: "endeavour",
                company: "Endeavour Mining",
                companyUrl: "https://www.endeavourmining.com",
                dept: "Dept: Human Resources",
                role: "BI Analyst",
                date: "2015 - 2017",
                location: "Abidjan, Côte d'Ivoire",
                theme: "data",
                icon: "BarChart3",
                bgImage: "https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=2070&q=80",
                details: ["Built HR Power BI dashboards.", "Supported DEI initiatives with data.", " modeled absenteeism trends."],
                stack: ["Power BI", "Analytics", "HR"]
            },
            {
                id: "tcs-india",
                company: "Tata Consultancy Services",
                companyUrl: "https://www.tcs.com",
                dept: "Project: Telstra Australia",
                role: "IT Support Analyst",
                date: "2014 - 2015",
                location: "Chennai, India",
                theme: "server",
                icon: "Monitor",
                bgImage: "https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?auto=format&fit=crop&w=2070&q=80",
                details: ["L2 Escalation point (90% CSAT).", "Authored 50+ KB articles.", "Exchange Online migration."],
                stack: ["Exchange", "Incident Mgmt", "KB"]
            },
            {
                id: "venus",
                company: "Venus Film",
                companyUrl: "#",
                dept: "Dept: Post-Production",
                role: "ADR Supervisor",
                date: "2012",
                location: "Accra, Ghana",
                theme: "studio",
                icon: "Mic",
                bgImage: "https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?auto=format&fit=crop&w=2070&q=80",
                details: ["Coordination of audio workflows.", "Managed 300+ cues.", "Supervised dubbing."],
                stack: ["Audio", "Metadata", "Workflow"]
            }
        ]
    },
    fr: {
        role: "Coordonnateur TI | Administrateur Système",
        heroSubtitle: "Conception d'écosystèmes TI robustes et optimisation des opérations.",
        startButton: "Entrer dans le Système",
        profilePic: "LinkedIn Profile Picture.jpg",
        about: "Professionnel TI bilingue avec 9+ ans d'expérience. Je fais le pont entre l'infrastructure technique complexe et les opérations d'affaires fluides.",
        sections: { exp: "Expérience", skills: "Matrice Technique", edu: "Formation", proj: "Portfolio", blog: "Articles", hobby: "Loisirs", contact: "Communication" },
        downloads: {
            resume: "Jean-Michel_Kouame_IT_Coordinator_Resume_EN.pdf",
            cv: "Jean-Michel_Kouame_CV_Coordonnateur_TI_FR.pdf"
        },
        social: {
            linkedin: "https://linkedin.com",
            email: "michelkholou@gmail.com"
        },
        education: [
            { degree: "Baccalauréat en Informatique", school: "Sikkim Manipal University", year: "2014", location: "Accra, Ghana" },
            { degree: "Diplôme Prof. en TI", school: "NIIT", year: "2011", location: "Accra, Ghana" }
        ],
        certifications: [
            {
                id: "c1",
                title: "CompTIA Security+",
                provider: "CompTIA",
                date: "Prévu: Nov 2025",
                status: "in-progress",
                score: "Score requis: 750/900",
                desc: "Compétences de base pour les fonctions de sécurité et la carrière en cybersécurité.",
                objectives: [
                    "Évaluer la posture de sécurité d'un environnement d'entreprise",
                    "Recommander et mettre en œuvre des solutions de sécurité",
                    "Sécuriser les environnements hybrides (Cloud, Mobile, IoT)"
                ],
                resources: [
                    { name: "Professor Messer", type: "Cours Vidéo" },
                    { name: "Jason Dion", type: "Examens Pratiques" }
                ],
                docLink: "#",
                icon: "Shield"
            },
            {
                id: "c2",
                title: "Microsoft IT Support Specialist",
                provider: "Coursera / Microsoft",
                date: "Prévu: Oct 2025",
                status: "in-progress",
                score: "Achèvement requis",
                desc: "Compétences fondamentales en support TI, dépannage et administration système.",
                objectives: [
                    "Diagnostiquer et résoudre les problèmes matériels/logiciels",
                    "Comprendre les fondamentaux des réseaux",
                    "Gérer les systèmes d'exploitation Windows"
                ],
                resources: [
                    { name: "Coursera Labs", type: "Laboratoires Interactifs" }
                ],
                docLink: "#",
                icon: "Monitor"
            },
            {
                id: "c3",
                title: "AWS Cloud Practitioner",
                provider: "Amazon Web Services",
                date: "Obtenu",
                status: "completed",
                score: "780/1000",
                desc: "Compréhension fondamentale des services TI et de leur utilisation dans le cloud AWS.",
                objectives: [
                    "Concepts du Cloud AWS et sécurité",
                    "Services AWS de base (EC2, S3, RDS)",
                    "Modèles de facturation et de tarification"
                ],
                resources: [
                    { name: "AWS Skill Builder", type: "Cours Officiel" }
                ],
                docLink: "#",
                icon: "Globe"
            },
            {
                id: "c4",
                title: "ITIL Foundation V2",
                provider: "AXELOS",
                date: "Obtenu",
                status: "completed",
                score: "Réussi",
                desc: "Introduction au cadre ITIL (IT Infrastructure Library) pour la gestion des services TI.",
                objectives: [
                    "Cycle de vie des services",
                    "Principes et modèles clés",
                    "Processus et fonctions sélectionnés"
                ],
                resources: [],
                docLink: "#",
                icon: "BookOpen"
            }
        ],
        skillsCategories: {
            hard: ["SCCM / MECM", "Microsoft Intune", "Azure Active Directory", "ServiceNow", "Admin Microsoft 365", "Windows Server", "Power BI", "Exchange Online"],
            other: ["Jira / Confluence", "TCP/IP & DNS", "Virtualisation", "Veeam Backup", "Zscaler", "Proofpoint", "Google Workspace"],
            soft: ["Gestion d'Incidents", "Cadre ITIL", "Rapports (Reporting)", "Optimisation Processus", "Leadership", "Communication Bilingue"]
        },
        projects: [
            {
                title: "Modernisation des Postes",
                role: "Chef Technique",
                status: "completed",
                desc: "Migration de 1 500+ utilisateurs vers Win 11 & O365 via SCCM.",
                fullDescription: "Projet d'infrastructure majeur pour un client mondial. Objectif : éliminer les vulnérabilités liées à la fin de vie de Windows 10 et standardiser le parc informatique.\n\n Utilisation de séquences de tâches SCCM pour le déploiement sans contact (Zero Touch). Résultat : réduction de 40% des tickets de support liés à la compatibilité OS.",
                tech: ["SCCM", "Windows 11", "O365", "Intune"],
                icon: "Monitor",
                media: []
            },
            {
                title: "Tableau de Bord RH",
                role: "Analyste BI",
                status: "completed",
                desc: "Conception de tableaux Power BI pour le suivi du roulement, réduisant le temps de rapport de 80%.",
                fullDescription: "Transformation des données Excel brutes en rapports interactifs. \n\n Métriques clés : Taux de roulement, cartes thermiques d'absentéisme, conformité DEI. A permis aux RH d'intervenir proactivement.",
                tech: ["Power BI", "Excel", "Modélisation"],
                icon: "BarChart3",
                codeSnippet: "CALCULATE(COUNTROWS(Employes), FILTER(Employes, Employes[Statut] = 'Actif'))",
                media: []
            },
            {
                title: "Automatisation Logistique",
                role: "Gestionnaire Ops",
                status: "completed",
                desc: "Automatisation des flux de dédouanement, réduisant l'attente au port de 50%.",
                fullDescription: "Développement d'un outil VBA interfacé avec l'API des douanes locales. \n\n Réduction des erreurs de saisie de 95% et économie de plus de 100k$ en frais de surestaries annuels.",
                tech: ["Automatisation", "Excel Macros"],
                icon: "Globe",
                media: []
            },
            {
                title: "Lab Maison: Cluster K8s",
                role: "SysAdmin",
                status: "in-progress",
                desc: "Construction d'un cluster K8s à 3 nœuds sur matériel nu.",
                fullDescription: "Projet personnel pour approfondir l'orchestration de conteneurs. Utilisation de K3s sur Raspberry Pi.",
                tech: ["Kubernetes", "Docker", "Linux"],
                icon: "Server",
                media: []
            }
        ],
        hobbies: [
            { name: "Ingénierie Audio", icon: "Music", desc: "Ancien superviseur ADR. Passionné de mixage.", link: "https://soundcloud.com" },
            { name: "Blogue Techno", icon: "BookOpen", desc: "Rédaction d'articles et simplification de concepts.", link: "https://medium.com" },
            { name: "Photographie", icon: "Camera", desc: "Paysages urbains et esthétique technologique.", link: "https://instagram.com" }
        ],
        blog: [
            { title: "Optimiser SCCM pour les grandes entreprises", date: "12 Oct 2023", read: "5 min", link: "#" },
            { title: "De SysAdmin à Coordonnateur TI", date: "05 Sep 2023", read: "4 min", link: "#" },
            { title: "Automatiser avec Power BI", date: "20 Aoû 2023", read: "6 min", link: "#" }
        ],
        experiences: [
            {
                id: "tima",
                company: "TIMA Services",
                companyUrl: "https://timaservices.com",
                dept: "Contrat: Scandinavia & Walmart Canada",
                role: "Superviseur",
                date: "2023 - Présent",
                location: "Montréal, Canada",
                theme: "logistics",
                icon: "Globe",
                bgImage: "https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=2070&q=80",
                details: ["Suivi numérique Google Workspace (0 papier).", "WhatsApp pour ops temps réel.", "Audits automatisés Excel."],
                stack: ["Google Workspace", "Excel", "Ops"]
            },
            {
                id: "tcs-senior",
                company: "Tata Consultancy Services",
                companyUrl: "https://www.tcs.com",
                dept: "Projet: Allianz Trade / Euler Hermes",
                role: "Agent Senior",
                date: "2019 - 2023",
                location: "Budapest, Hongrie",
                theme: "server",
                icon: "Server",
                bgImage: "https://images.unsplash.com/photo-1558494949-efc5e66cd30f?auto=format&fit=crop&w=2070&q=80",
                details: ["Réduction incidents VIP 50%.", "Migration 1 500 usagers Win11.", "Gestion Azure AD & SCCM."],
                stack: ["ServiceNow", "Azure AD", "SCCM"]
            },
            {
                id: "afromer",
                company: "Africaine des Mers",
                companyUrl: "#",
                dept: "Dépt: Opérations & Logistique",
                role: "Directeur Ops",
                date: "2017 - 2019",
                location: "Abidjan, Côte d'Ivoire",
                theme: "ocean",
                icon: "Globe",
                bgImage: "https://images.unsplash.com/photo-1494412651409-ae5d988a47b0?auto=format&fit=crop&w=2070&q=80",
                details: ["Réduction coûts logistiques 50%.", "Automatisation douanes.", "100% conformité."],
                stack: ["Logistique", "Conformité", "Gestion"]
            },
            {
                id: "endeavour",
                company: "Endeavour Mining",
                companyUrl: "https://www.endeavourmining.com",
                dept: "Dépt: Ressources Humaines",
                role: "Analyste BI",
                date: "2015 - 2017",
                location: "Abidjan, Côte d'Ivoire",
                theme: "data",
                icon: "BarChart3",
                bgImage: "https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=2070&q=80",
                details: ["Tableaux de bord Power BI RH.", "Support initiatives DEI.", "Modélisation absentéisme."],
                stack: ["Power BI", "Analytique", "RH"]
            },
            {
                id: "tcs-india",
                company: "Tata Consultancy Services",
                companyUrl: "https://www.tcs.com",
                dept: "Projet: Telstra Australie",
                role: "Analyste Soutien",
                date: "2014 - 2015",
                location: "Chennai, Inde",
                theme: "server",
                icon: "Monitor",
                bgImage: "https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?auto=format&fit=crop&w=2070&q=80",
                details: ["Escalade N2 (90% CSAT).", "Rédaction 50+ articles KB.", "Migration Exchange Online."],
                stack: ["Exchange", "Incidents", "KB"]
            },
            {
                id: "venus",
                company: "Venus Film",
                companyUrl: "#",
                dept: "Dépt: Post-Production",
                role: "Superviseur ADR",
                date: "2012",
                location: "Accra, Ghana",
                theme: "studio",
                icon: "Mic",
                bgImage: "https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?auto=format&fit=crop&w=2070&q=80",
                details: ["Coordination audio.", "Gestion 300+ pistes.", "Supervision doublage."],
                stack: ["Audio", "Métadonnées", "Flux"]
            }
        ]
    }
};

// --- BACKGROUND COMPONENT ---
const SimulationBackground = ({ theme, bgImage, opacity = 0.5 }) => {
    const [loaded, setLoaded] = useState(false);

    return (
        <div className="fixed inset-0 z-0 overflow-hidden bg-slate-950">
            {/* Background Image Layer - Increased Opacity */}
            <div 
                className={`absolute inset-0 bg-cover bg-center transition-all duration-1000 ease-in-out`}
                style={{ 
                    backgroundImage: bgImage ? `url(${bgImage})` : 'none',
                    opacity: loaded ? opacity : 0,
                    transform: loaded ? 'scale(1.05)' : 'scale(1.0)'
                }}
            ></div>
            <img 
                src={bgImage} 
                alt="bg-preload" 
                className="hidden" 
                onLoad={() => setLoaded(true)} 
            />

            {/* Starfield for Sci-Fi Mode */}
            {(theme === 'space' || theme === 'cert') && (
                <div className="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?auto=format&fit=crop&w=2070&q=80')] bg-cover opacity-40 mix-blend-screen"></div>
            )}

            {/* Overlay Grid & Gradient */}
            <div className="absolute inset-0 bg-[linear-gradient(to_right,#80808008_1px,transparent_1px),linear-gradient(to_bottom,#80808008_1px,transparent_1px)] bg-[size:32px_32px]"></div>
            <div className="absolute inset-0 bg-gradient-to-b from-slate-950/80 via-slate-900/50 to-slate-950/90"></div>
            <div className="scanline"></div>
        </div>
    );
};

// --- SIMPLE SKILL SPHERE (HERO) ---
const SkillSphere = () => {
    const skills = ["Azure AD", "SCCM", "Intune", "Power BI", "ServiceNow"];
    return (
        <div className="relative w-48 h-48 hidden md:flex items-center justify-center skill-container">
            <div className="absolute inset-0 bg-cyan-500/10 rounded-full blur-2xl"></div>
            <div className="grid grid-cols-2 gap-2 transform rotate-6">
                {skills.map((skill, i) => (
                    <div 
                        key={i}
                        className="glass-card px-2 py-1 rounded text-[10px] font-mono text-cyan-300 text-center border border-cyan-500/20"
                        style={{ animation: `pulse 3s infinite ${i * 0.2}s` }}
                    >
                        {skill}
                    </div>
                ))}
            </div>
        </div>
    );
};

// --- STATUS TRAFFIC LIGHT COMPONENT ---
const StatusLight = ({ status }) => {
    let color = "bg-gray-500";
    let text = "Unknown";
    if (status === 'completed') { color = "bg-green-500"; text = "Completed"; }
    else if (status === 'in-progress') { color = "bg-yellow-500"; text = "In Progress"; }
    else if (status === 'on-pause') { color = "bg-red-500"; text = "On Pause"; }

    return (
        <div className="flex items-center gap-2" title={`Status: ${text}`}>
            <div className={`w-3 h-3 rounded-full ${color} shadow-[0_0_8px_currentColor]`}></div>
            <span className="text-[10px] uppercase font-mono text-slate-400 tracking-wider">{text}</span>
        </div>
    );
};

export default function App() {
    const [started, setStarted] = useState(false);
    const [lang, setLang] = useState('en');
    const [activeExpId, setActiveExpId] = useState(null);
    const [activeProjectId, setActiveProjectId] = useState(null); // For Project Detail View
    const [activeCertId, setActiveCertId] = useState(null); // For Cert Detail View
    const [projectHubOpen, setProjectHubOpen] = useState(false); // For Full Project List
    const [muted, setMuted] = useState(true);

    const d = RESUME_DATA[lang];
    const activeExp = activeExpId ? d.experiences.find(e => e.id === activeExpId) : null;
    const activeProj = activeProjectId ? d.projects.find(p => p.id === activeProjectId) : null;
    const activeCert = activeCertId ? d.certifications.find(c => c.id === activeCertId) : null;
    
    // Determine background
    let bg = "https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&w=2072&q=80";
    let theme = "default";
    
    if (activeExp) {
        bg = activeExp.bgImage;
        theme = activeExp.theme;
    } else if (activeProj || projectHubOpen) {
        bg = "https://images.unsplash.com/photo-1462331940025-496dfbfc7564?auto=format&fit=crop&w=2000&q=80"; // Deep space
        theme = "space";
    } else if (activeCert) {
        bg = "https://images.unsplash.com/photo-1614726365723-49cfae96a682?auto=format&fit=crop&w=2070&q=80"; // Abstract yellow/gold
        theme = "cert";
    }

    const handleStart = () => {
        setStarted(true);
        audioManager.init();
        audioManager.toggleMute(false);
        setMuted(false);
    };

    useEffect(() => {
        if(started) {
            audioManager.playTheme(theme);
        }
    }, [theme, started]);

    const toggleMute = () => {
        setMuted(!muted);
        audioManager.toggleMute(!muted);
    }

    if (!started) {
        return (
            <div className="h-screen w-screen bg-slate-900 flex flex-col items-center justify-center relative overflow-hidden">
                <style>{globalStyles}</style>
                <SimulationBackground bgImage="https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=2070&q=80" />
                
                <div className="z-10 text-center p-8 max-w-2xl glass-panel rounded-2xl animate-fade-in tech-border">
                    <div className="relative w-32 h-32 mx-auto mb-6 rounded-full p-1 bg-gradient-to-r from-cyan-500 to-blue-600 shadow-lg shadow-cyan-500/30">
                        <img 
                            src={d.profilePic} 
                            className="w-full h-full rounded-full object-cover border-2 border-slate-900"
                            alt="Profile"
                            onError={(e) => {e.target.src='https://via.placeholder.com/150/0f172a/ffffff?text=JM'}}
                        />
                    </div>
                    <h1 className="text-5xl font-bold text-white tracking-tight mb-2">Jean-Michel Kouame</h1>
                    <p className="text-cyan-400 font-mono text-xl font-bold mb-4 blinking-cursor">IT COORDINATOR</p>
                    <p className="text-slate-300 mb-8 text-lg">{d.heroSubtitle}</p>
                    
                    <button 
                        onClick={handleStart}
                        className="px-8 py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-full transition-all shadow-[0_0_20px_rgba(6,182,212,0.4)] flex items-center gap-2 mx-auto"
                    >
                        {d.startButton} <ChevronRight size={20} />
                    </button>
                </div>
            </div>
        );
    }

    // --- IMMERSIVE PROJECT HUB (ALL PROJECTS) ---
    if (projectHubOpen && !activeProj) {
        return (
            <div className="min-h-screen text-slate-200 font-sans relative pb-20 overflow-y-auto">
                <style>{globalStyles}</style>
                <SimulationBackground bgImage={bg} theme={theme} opacity={0.4} />
                
                <div className="relative z-20 pt-12 px-4 max-w-6xl mx-auto">
                    <div className="flex justify-between items-center mb-12">
                        <h1 className="text-4xl font-bold text-white tracking-tight border-l-4 border-cyan-500 pl-4">PORTFOLIO_HUB</h1>
                        <button onClick={() => setProjectHubOpen(false)} className="flex items-center gap-2 text-slate-400 hover:text-white transition-colors">
                            <X size={24} /> CLOSE HUB
                        </button>
                    </div>

                    <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                        {d.projects.map((proj) => (
                            <div 
                                key={proj.id} 
                                onClick={() => setActiveProjectId(proj.id)}
                                className="scifi-card p-6 rounded-xl cursor-pointer hover:bg-slate-900/50 transition-all group"
                            >
                                <div className="flex justify-between items-start mb-4">
                                    <div className="text-cyan-400 p-2 bg-slate-800/50 rounded">
                                        {proj.icon === 'Monitor' && <Monitor />}
                                        {proj.icon === 'BarChart3' && <BarChart3 />}
                                        {proj.icon === 'Globe' && <Globe />}
                                        {proj.icon === 'Server' && <Server />}
                                        {proj.icon === 'Code' && <Code />}
                                    </div>
                                    <StatusLight status={proj.status} />
                                </div>
                                <h3 className="text-xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors">{proj.title}</h3>
                                <p className="text-sm text-slate-400 mb-4 line-clamp-2">{proj.desc}</p>
                                <div className="flex flex-wrap gap-2">
                                    {proj.tech.slice(0, 3).map((t, i) => (
                                        <span key={i} className="text-[10px] px-2 py-1 bg-slate-800/80 border border-slate-700 rounded text-slate-300">{t}</span>
                                    ))}
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            </div>
        );
    }

    // --- SINGLE CERTIFICATION DETAIL (IMMERSIVE VIEW) ---
    if (activeCert) {
        return (
            <div className="h-screen w-screen fixed inset-0 z-50 bg-slate-950 text-slate-200 font-sans overflow-y-auto">
                <style>{globalStyles}</style>
                <SimulationBackground bgImage={bg} theme={theme} opacity={0.3} />
                
                <div className="relative z-20 max-w-4xl mx-auto pt-16 px-4 pb-20">
                    <button onClick={() => setActiveCertId(null)} className="flex items-center gap-2 text-yellow-500 hover:text-yellow-300 mb-8 text-sm font-mono tracking-wider">
                        <ArrowLeft size={16} /> RETURN_TO_SYSTEM
                    </button>

                    <div className="cert-border glass-panel p-8 rounded-xl relative overflow-hidden bg-slate-900/90">
                        {/* Header */}
                        <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 pb-6 border-b border-yellow-500/20">
                            <div className="flex items-center gap-4">
                                <div className="p-4 bg-yellow-500/10 rounded-lg text-yellow-400 border border-yellow-500/30">
                                    {activeCert.icon === 'Shield' && <Shield size={32} />}
                                    {activeCert.icon === 'Monitor' && <Monitor size={32} />}
                                    {activeCert.icon === 'Globe' && <Globe size={32} />}
                                    {activeCert.icon === 'BookOpen' && <BookOpen size={32} />}
                                </div>
                                <div>
                                    <h1 className="text-3xl font-bold text-white mb-1">{activeCert.title}</h1>
                                    <p className="text-yellow-400 font-mono text-sm">{activeCert.provider}</p>
                                </div>
                            </div>
                            <div className="mt-4 md:mt-0 flex flex-col items-end">
                                <StatusLight status={activeCert.status} />
                                <span className="text-xs text-slate-500 font-mono mt-1">{activeCert.date}</span>
                            </div>
                        </div>

                        {/* Content Grid */}
                        <div className="grid lg:grid-cols-3 gap-8">
                            {/* Left Column: Details */}
                            <div className="lg:col-span-2 space-y-8">
                                <div>
                                    <h3 className="text-sm font-bold text-slate-400 uppercase tracking-widest mb-3">Overview</h3>
                                    <p className="text-slate-200 leading-relaxed">{activeCert.desc}</p>
                                </div>

                                <div>
                                    <h3 className="text-sm font-bold text-slate-400 uppercase tracking-widest mb-3 flex items-center gap-2">
                                        <Target size={16}/> Exam Objectives
                                    </h3>
                                    <ul className="space-y-2">
                                        {activeCert.objectives.map((obj, i) => (
                                            <li key={i} className="flex items-start gap-3 p-3 rounded bg-slate-800/50 border border-slate-700/50">
                                                <CheckCircle size={16} className="text-green-500 mt-0.5 flex-shrink-0" />
                                                <span className="text-sm text-slate-300">{obj}</span>
                                            </li>
                                        ))}
                                    </ul>
                                </div>
                            </div>

                            {/* Right Column: Meta */}
                            <div className="space-y-6">
                                <div className="p-4 rounded-lg bg-yellow-500/10 border border-yellow-500/20">
                                    <h3 className="text-xs font-bold text-yellow-200 uppercase tracking-widest mb-2">Achievement Status</h3>
                                    <div className="text-xl font-bold text-white mb-1">{activeCert.score}</div>
                                    <div className="w-full bg-slate-800 h-1.5 rounded-full overflow-hidden">
                                        <div className={`h-full ${activeCert.status === 'completed' ? 'bg-green-500 w-full' : 'bg-yellow-500 w-2/3'}`}></div>
                                    </div>
                                </div>

                                <div>
                                    <h3 className="text-xs font-bold text-slate-500 uppercase tracking-widest mb-3">Study Resources</h3>
                                    <div className="space-y-2">
                                        {activeCert.resources.map((res, i) => (
                                            <div key={i} className="flex items-center justify-between text-sm text-slate-300 p-2 rounded hover:bg-white/5">
                                                <span>{res.name}</span>
                                                <span className="text-xs text-slate-500 border border-slate-700 px-1 rounded">{res.type}</span>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                <a href={activeCert.docLink} className="flex items-center justify-center gap-2 w-full py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg transition-colors text-sm font-bold">
                                    <Download size={16} /> Access Credentials
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        );
    }

    // --- SINGLE PROJECT DETAIL (SCI-FI MODAL) ---
    if (activeProj) {
        return (
            <div className="h-screen w-screen fixed inset-0 z-50 bg-slate-950 text-slate-200 font-sans overflow-y-auto">
                <style>{globalStyles}</style>
                <SimulationBackground bgImage={bg} theme={theme} opacity={0.4} />
                
                <div className="relative z-20 max-w-5xl mx-auto pt-12 px-4 pb-20">
                    {/* Header */}
                    <div className="flex justify-between items-end mb-8 pb-4 border-b border-cyan-900/50">
                        <div>
                            <button onClick={() => setActiveProjectId(null)} className="flex items-center gap-2 text-cyan-500 hover:text-cyan-300 mb-4 text-sm font-mono tracking-wider">
                                <ArrowLeft size={16} /> RETURN_TO_HUB
                            </button>
                            <h1 className="text-4xl md:text-5xl font-bold text-white tracking-tight mb-2">{activeProj.title}</h1>
                            <div className="flex items-center gap-4">
                                <span className="text-purple-400 font-mono">{activeProj.role}</span>
                                <StatusLight status={activeProj.status} />
                            </div>
                        </div>
                        <div className="hidden md:block text-right font-mono text-xs text-slate-500">
                            ID: {activeProj.id.toUpperCase()}<br/>
                            SEC_LEVEL: ALPHA
                        </div>
                    </div>

                    <div className="grid lg:grid-cols-3 gap-8">
                        {/* Main Content */}
                        <div className="lg:col-span-2 space-y-8">
                            <div className="glass-panel p-8 rounded-xl border-t-2 border-cyan-500">
                                <h3 className="text-lg font-bold text-white mb-4 flex items-center gap-2"><FileText size={18} className="text-cyan-400"/> Project Brief</h3>
                                <p className="text-slate-300 leading-relaxed whitespace-pre-line">{activeProj.fullDescription || activeProj.desc}</p>
                            </div>

                            {/* Media Gallery */}
                            {activeProj.media && activeProj.media.length > 0 && (
                                <div className="space-y-4">
                                    <h3 className="text-lg font-bold text-white flex items-center gap-2"><ImageIcon size={18} className="text-purple-400"/> Visual Logs</h3>
                                    <div className="grid md:grid-cols-2 gap-4">
                                        {activeProj.media.map((m, i) => (
                                            <div key={i} className="group relative rounded-lg overflow-hidden border border-slate-700">
                                                <img src={m.url} alt={m.caption} className="w-full h-48 object-cover transition-transform group-hover:scale-105"/>
                                                <div className="absolute bottom-0 left-0 right-0 bg-black/70 p-2 text-xs text-center">{m.caption}</div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}

                            {/* Code Snippet */}
                            {activeProj.codeSnippet && (
                                <div className="glass-panel p-6 rounded-xl border border-slate-700 bg-slate-900">
                                    <h3 className="text-sm font-bold text-green-400 mb-3 font-mono flex items-center gap-2"><Code size={16}/> CODE_FRAGMENT</h3>
                                    <pre className="font-mono text-xs text-slate-300 overflow-x-auto bg-black/50 p-4 rounded border-l-2 border-green-500">
                                        {activeProj.codeSnippet}
                                    </pre>
                                </div>
                            )}
                        </div>

                        {/* Sidebar */}
                        <div className="space-y-6">
                            <div className="glass-panel p-6 rounded-xl">
                                <h3 className="text-xs font-bold text-slate-500 uppercase tracking-wider mb-4">Tech Stack</h3>
                                <div className="flex flex-wrap gap-2">
                                    {activeProj.tech.map((t, i) => (
                                        <span key={i} className="px-3 py-1.5 bg-slate-800 border border-slate-600 rounded text-xs text-cyan-300 font-mono">
                                            {t}
                                        </span>
                                    ))}
                                </div>
                            </div>
                            
                            {/* Decorative HUD Element */}
                            <div className="glass-panel p-6 rounded-xl border border-slate-800 opacity-80">
                                <div className="flex justify-between text-xs font-mono text-slate-500 mb-2">
                                    <span>CPU_LOAD</span>
                                    <span>42%</span>
                                </div>
                                <div className="w-full bg-slate-800 h-1 mb-4"><div className="bg-cyan-500 h-1 w-[42%]"></div></div>
                                <div className="flex justify-between text-xs font-mono text-slate-500 mb-2">
                                    <span>MEM_USAGE</span>
                                    <span>12%</span>
                                </div>
                                <div className="w-full bg-slate-800 h-1"><div className="bg-purple-500 h-1 w-[12%]"></div></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        );
    }

    // --- MAIN DASHBOARD ---
    return (
        <div className="min-h-screen text-slate-200 font-sans relative pb-20">
            <style>{globalStyles}</style>
            <SimulationBackground bgImage={bg} theme={activeExp?.theme} opacity={0.5} />

            {/* --- NAVBAR --- */}
            <nav className="fixed top-0 left-0 right-0 z-50 flex justify-between items-center p-4 md:px-8 glass-panel border-x-0 border-t-0 backdrop-blur-md">
                <div className="flex items-center gap-4">
                    {activeExpId && (
                        <button onClick={() => setActiveExpId(null)} className="p-2 hover:bg-white/10 rounded-full text-cyan-400 transition-colors">
                            <ArrowLeft />
                        </button>
                    )}
                    <div>
                        <div className="font-bold text-white leading-none">Jean-Michel Kouame</div>
                        <div className="text-[10px] text-cyan-400 font-mono font-bold tracking-widest">IT COORDINATOR</div>
                    </div>
                </div>
                <div className="flex gap-3">
                    <button onClick={toggleMute} className="p-2 text-cyan-400 hover:bg-white/10 rounded-full transition-colors">
                        {muted ? <VolumeX size={20} /> : <Volume2 size={20} />}
                    </button>
                    <button onClick={() => setLang(lang === 'en' ? 'fr' : 'en')} className="px-3 py-1 border border-slate-600 rounded text-xs font-bold font-mono hover:bg-white/10 transition-colors">
                        {lang.toUpperCase()}
                    </button>
                </div>
            </nav>

            {/* --- MAIN CONTENT --- */}
            <main className="relative z-10 pt-28 px-4 max-w-6xl mx-auto">
                
                {activeExp ? (
                    /* --- RICH DETAIL VIEW (SIMULATION) --- */
                    <div className="animate-fade-in flex items-center justify-center min-h-[60vh]">
                        <div className="w-full max-w-5xl grid lg:grid-cols-12 gap-0 rounded-2xl overflow-hidden shadow-2xl border border-cyan-500/30 glass-panel">
                            
                            {/* Left: Data Panel */}
                            <div className="lg:col-span-4 bg-slate-900/80 p-8 border-r border-cyan-500/20 flex flex-col">
                                <div className="mb-8">
                                    <div className="flex items-center gap-2 mb-2">
                                        <span className="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                                        <span className="text-xs font-mono text-cyan-500">SYSTEM_ACTIVE</span>
                                    </div>
                                    <h1 className="text-3xl font-bold text-white mb-2 leading-tight">{activeExp.role}</h1>
                                    <a href={activeExp.companyUrl} target="_blank" rel="noreferrer" className="text-cyan-400 hover:text-cyan-300 transition-colors font-mono text-sm flex items-center gap-1">
                                        {activeExp.company} <ExternalLink size={12} />
                                    </a>
                                    <div className="text-xs text-slate-400 mt-1 font-mono">{activeExp.dept}</div>
                                </div>

                                <div className="space-y-6 flex-grow">
                                    <div>
                                        <h4 className="text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Timeline</h4>
                                        <div className="text-sm text-slate-300">{activeExp.date}</div>
                                    </div>
                                    <div>
                                        <h4 className="text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Location</h4>
                                        <div className="text-sm text-slate-300 flex items-center gap-2">
                                            <Globe size={14} className="text-slate-500" /> {activeExp.location}
                                        </div>
                                    </div>
                                    <div>
                                        <h4 className="text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Tech Stack</h4>
                                        <div className="flex flex-wrap gap-2">
                                            {activeExp.stack.map((t, i) => (
                                                <span key={i} className="px-2 py-1 rounded bg-cyan-900/30 border border-cyan-500/30 text-[10px] font-mono text-cyan-300">
                                                    {t}
                                                </span>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Right: Mission Log (Visual) */}
                            <div className="lg:col-span-8 p-8 relative bg-gradient-to-br from-slate-900/50 to-slate-900/90">
                                <div className="absolute top-4 right-4 opacity-20 text-cyan-900"><Cpu size={180} strokeWidth={1} /></div>
                                
                                <div className="relative z-10">
                                    <div className="flex items-center gap-3 mb-8 pb-4 border-b border-white/10">
                                        <FileText className="text-cyan-400" size={24} />
                                        <h2 className="text-xl font-bold text-white">Mission Log & Key Achievements</h2>
                                    </div>
                                    
                                    <div className="grid gap-6">
                                        {activeExp.details.map((item, i) => (
                                            <div key={i} className="flex gap-4 group p-4 rounded-lg hover:bg-white/5 transition-colors border border-transparent hover:border-white/5">
                                                <div className="mt-1 min-w-[24px] h-[24px] rounded-full bg-cyan-900/50 flex items-center justify-center border border-cyan-500/30 text-cyan-400 text-xs font-mono">
                                                    {i + 1}
                                                </div>
                                                <p className="text-slate-200 text-lg leading-relaxed">{item}</p>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                ) : (
                    /* --- DASHBOARD OVERVIEW --- */
                    <div className="animate-fade-in pb-20 space-y-20">
                        
                        {/* Hero Area */}
                        <header className="flex flex-col lg:flex-row gap-12 items-center justify-between border-b border-slate-800 pb-12">
                            <div className="max-w-3xl">
                                <div className="flex items-center gap-3 mb-4">
                                    <Cpu className="text-cyan-500" size={24} />
                                    <h1 className="text-3xl font-bold text-white tracking-tight">{d.sections.exp}</h1>
                                </div>
                                <p className="text-xl text-slate-300 leading-relaxed font-light">{d.about}</p>
                            </div>
                            <SkillSphere />
                        </header>

                        {/* Experience Grid */}
                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {d.experiences.map((exp) => (
                                <div 
                                    key={exp.id}
                                    onClick={() => setActiveExpId(exp.id)}
                                    className="glass-card p-6 rounded-xl cursor-pointer group flex flex-col h-full relative overflow-hidden"
                                >
                                    <div className="absolute inset-0 bg-gradient-to-br from-cyan-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                    
                                    <div className="flex justify-between items-start mb-4 relative z-10">
                                        <div className="text-cyan-400 p-3 bg-slate-800/50 rounded-lg border border-white/5 shadow-inner">
                                            {exp.icon === 'Server' && <Server size={20} />}
                                            {exp.icon === 'Globe' && <Globe size={20} />}
                                            {exp.icon === 'Monitor' && <Monitor size={20} />}
                                            {exp.icon === 'BarChart3' && <BarChart3 size={20} />}
                                            {exp.icon === 'Mic' && <Mic size={20} />}
                                        </div>
                                        <span className="text-[10px] font-mono font-bold text-slate-400 bg-slate-950 border border-slate-800 px-2 py-1 rounded">
                                            {exp.date.split('-')[0]}
                                        </span>
                                    </div>
                                    
                                    <div className="relative z-10">
                                        <h3 className="font-bold text-white text-lg mb-1 group-hover:text-cyan-300 transition-colors">{exp.role}</h3>
                                        <div className="text-sm text-slate-400 font-mono mb-1">{exp.company}</div>
                                        <div className="text-xs text-slate-500 mb-4 h-8">{exp.dept}</div> {/* Fixed height for alignment */}
                                    </div>
                                    
                                    <div className="mt-auto pt-4 border-t border-slate-700/30 flex items-center justify-between text-xs font-mono text-cyan-500">
                                        <span className="opacity-0 group-hover:opacity-100 transition-opacity duration-300">INIT_PROTOCOL_v2</span>
                                        <ChevronRight size={14} className="transform group-hover:translate-x-1 transition-transform" />
                                    </div>
                                </div>
                            ))}
                        </div>

                        {/* CATEGORIZED SKILLS SECTION */}
                        <div className="glass-panel p-8 rounded-2xl border-t-4 border-cyan-600">
                            <div className="flex items-center gap-3 mb-8">
                                <Cpu className="text-cyan-400" size={28} />
                                <h2 className="text-2xl font-bold text-white">{d.sections.skills}</h2>
                            </div>
                            <div className="grid md:grid-cols-3 gap-8">
                                <div>
                                    <h3 className="text-sm font-bold text-cyan-300 uppercase tracking-widest mb-4 border-b border-cyan-900 pb-2">High Impact (Hard)</h3>
                                    <div className="flex flex-wrap gap-2">
                                        {d.skillsCategories.hard.map((s, i) => (
                                            <span key={i} className="px-3 py-1.5 bg-cyan-900/30 border border-cyan-500/30 rounded text-xs font-mono text-cyan-100 hover:bg-cyan-800/50 transition-colors">
                                                {s}
                                            </span>
                                        ))}
                                    </div>
                                </div>
                                <div>
                                    <h3 className="text-sm font-bold text-purple-300 uppercase tracking-widest mb-4 border-b border-purple-900 pb-2">Operational (Medium)</h3>
                                    <div className="flex flex-wrap gap-2">
                                        {d.skillsCategories.other.map((s, i) => (
                                            <span key={i} className="px-3 py-1.5 bg-purple-900/30 border border-purple-500/30 rounded text-xs font-mono text-purple-100 hover:bg-purple-800/50 transition-colors">
                                                {s}
                                            </span>
                                        ))}
                                    </div>
                                </div>
                                <div>
                                    <h3 className="text-sm font-bold text-green-300 uppercase tracking-widest mb-4 border-b border-green-900 pb-2">Interpersonal (Soft)</h3>
                                    <div className="flex flex-wrap gap-2">
                                        {d.skillsCategories.soft.map((s, i) => (
                                            <span key={i} className="px-3 py-1.5 bg-green-900/30 border border-green-500/30 rounded text-xs font-mono text-green-100 hover:bg-green-800/50 transition-colors">
                                                {s}
                                            </span>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Portfolio & Projects Section */}
                        <div>
                            <div className="flex items-center justify-between mb-8">
                                <div className="flex items-center gap-3">
                                    <Briefcase className="text-purple-400" size={28} />
                                    <h2 className="text-3xl font-bold text-white">{d.sections.proj}</h2>
                                </div>
                                <button onClick={() => setProjectHubOpen(true)} className="text-sm font-mono text-cyan-400 hover:text-white border border-cyan-500/30 rounded px-3 py-1 hover:bg-cyan-500/20 transition-all">
                                    VIEW ALL PROTOCOLS &gt;
                                </button>
                            </div>
                            <div className="grid md:grid-cols-3 gap-6">
                                {d.projects.filter(p => p.status === 'completed').map((proj, i) => (
                                    <div key={i} onClick={() => setActiveProjectId(proj.id)} className="glass-card p-6 rounded-xl flex flex-col cursor-pointer hover:border-purple-500/50">
                                        <div className="flex justify-between items-start mb-4">
                                            <div className="text-purple-400 bg-purple-900/20 w-fit p-3 rounded-lg">
                                                {proj.icon === 'Monitor' && <Monitor size={24} />}
                                                {proj.icon === 'BarChart3' && <BarChart3 size={24} />}
                                                {proj.icon === 'Globe' && <Globe size={24} />}
                                            </div>
                                            <StatusLight status={proj.status} />
                                        </div>
                                        <h3 className="text-xl font-bold text-white mb-2">{proj.title}</h3>
                                        <div className="text-xs font-mono text-purple-300 mb-3 border-b border-white/10 pb-2 inline-block">{proj.role}</div>
                                        <p className="text-sm text-slate-300 mb-6 flex-grow">{proj.desc}</p>
                                        <div className="flex flex-wrap gap-2 mt-auto">
                                            {proj.tech.map((t, idx) => (
                                                <span key={idx} className="text-[10px] px-2 py-1 bg-slate-800 rounded border border-slate-700 text-slate-400">{t}</span>
                                            ))}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* Blog & Hobbies Split Section */}
                        <div className="grid lg:grid-cols-2 gap-12">
                            {/* Blog */}
                            <div>
                                <div className="flex items-center gap-3 mb-6">
                                    <BookOpen className="text-green-400" size={24} />
                                    <h2 className="text-2xl font-bold text-white">{d.sections.blog}</h2>
                                </div>
                                <div className="space-y-4">
                                    {d.blog.map((post, i) => (
                                        <a href={post.link} target="_blank" rel="noreferrer" key={i} className="block glass-panel p-5 rounded-lg hover:bg-white/5 cursor-pointer transition-colors border-l-2 border-transparent hover:border-green-500">
                                            <div className="flex justify-between items-start mb-2">
                                                <h3 className="font-bold text-slate-200 text-lg">{post.title}</h3>
                                            </div>
                                            <div className="flex gap-4 text-xs font-mono text-slate-500 mt-2">
                                                <span className="flex items-center gap-1"><FileText size={10} /> {post.date}</span>
                                                <span>{post.read}</span>
                                            </div>
                                        </a>
                                    ))}
                                </div>
                            </div>

                            {/* Hobbies */}
                            <div>
                                <div className="flex items-center gap-3 mb-6">
                                    <Coffee className="text-orange-400" size={24} />
                                    <h2 className="text-2xl font-bold text-white">{d.sections.hobby}</h2>
                                </div>
                                <div className="grid gap-4">
                                    {d.hobbies.map((hobby, i) => (
                                        <a href={hobby.link} target="_blank" rel="noreferrer" key={i} className="block glass-panel p-5 rounded-lg flex items-start gap-4 hover:bg-white/5 transition-colors">
                                            <div className="p-3 bg-orange-900/20 rounded-full text-orange-400 mt-1">
                                                {hobby.icon === 'Music' && <Music size={20} />}
                                                {hobby.icon === 'BookOpen' && <BookOpen size={20} />}
                                                {hobby.icon === 'Camera' && <Camera size={20} />}
                                            </div>
                                            <div>
                                                <h4 className="font-bold text-white text-lg">{hobby.name}</h4>
                                                <p className="text-sm text-slate-400 mt-1">{hobby.desc}</p>
                                            </div>
                                        </a>
                                    ))}
                                </div>
                            </div>
                        </div>

                        {/* Education & Certs (Compact) */}
                        <div className="grid md:grid-cols-2 gap-8">
                            <div className="glass-panel p-8 rounded-xl border-t-4 border-blue-500">
                                <div className="flex items-center gap-3 mb-6 border-b border-slate-700 pb-4">
                                    <GraduationCap className="text-blue-400" size={24} />
                                    <h3 className="text-xl font-bold text-white">{d.sections.edu}</h3>
                                </div>
                                {d.education.map((edu, i) => (
                                    <div key={i} className="mb-6 last:mb-0">
                                        <div className="font-bold text-slate-200 text-lg">{edu.degree}</div>
                                        <div className="text-sm text-slate-400">{edu.school} ({edu.year})</div>
                                        <div className="text-xs text-slate-500 font-mono mt-1 flex items-center gap-1"><Globe size={10} /> {edu.location}</div>
                                    </div>
                                ))}
                            </div>
                            <div className="glass-panel p-8 rounded-xl border-t-4 border-yellow-500">
                                <div className="flex items-center gap-3 mb-6 border-b border-slate-700 pb-4">
                                    <Award className="text-yellow-400" size={24} />
                                    <h3 className="text-xl font-bold text-white">Certifications</h3>
                                </div>
                                <ul className="space-y-4">
                                    {d.certifications.map((cert, i) => (
                                        <li 
                                            key={i} 
                                            onClick={() => setActiveCertId(cert.id)}
                                            className="flex items-start gap-3 text-sm text-slate-300 cursor-pointer group hover:text-yellow-200 transition-colors"
                                        >
                                            <span className="mt-1.5 min-w-[6px] h-[6px] bg-yellow-500 rounded-full group-hover:scale-150 transition-transform"></span>
                                            <div>
                                                <span className="font-bold block group-hover:underline">{cert.title}</span>
                                                <span className="text-xs text-slate-500">{cert.provider}</span>
                                            </div>
                                        </li>
                                    ))}
                                </ul>
                            </div>
                        </div>

                        {/* Contact & Footer */}
                        <div className="border-t border-slate-800 pt-12 flex flex-col md:flex-row justify-between gap-12">
                            <div>
                                <h3 className="font-bold text-white mb-6 text-lg">{d.sections.contact}</h3>
                                <div className="flex gap-4">
                                    <a href={`mailto:${d.social.email}`} className="flex items-center gap-3 px-6 py-3 bg-slate-800 rounded-lg hover:bg-cyan-700 transition-colors text-slate-200 shadow-lg">
                                        <Mail size={18} /> Email Me
                                    </a>
                                    <a href={d.social.linkedin} target="_blank" rel="noreferrer" className="flex items-center gap-3 px-6 py-3 bg-[#0077b5] rounded-lg hover:bg-[#006097] transition-colors text-white shadow-lg">
                                        <Linkedin size={18} /> LinkedIn
                                    </a>
                                </div>
                            </div>
                            <div>
                                <h3 className="font-bold text-white mb-6 text-lg">Downloads</h3>
                                <div className="flex gap-4">
                                    <a href={d.downloads.cv} target="_blank" rel="noreferrer" className="flex items-center gap-2 px-5 py-2 border border-slate-600 rounded hover:bg-slate-800 transition-colors text-sm text-slate-300">
                                        <Download size={16} /> CV (FR)
                                    </a>
                                    <a href={d.downloads.resume} target="_blank" rel="noreferrer" className="flex items-center gap-2 px-5 py-2 border border-slate-600 rounded hover:bg-slate-800 transition-colors text-sm text-slate-300">
                                        <Download size={16} /> Resume (EN)
                                    </a>
                                </div>
                            </div>
                        </div>

                    </div>
                )}
            </main>
        </div>
    );
}